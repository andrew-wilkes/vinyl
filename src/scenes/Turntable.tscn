[gd_scene load_steps=32 format=2]

[ext_resource path="res://scenes/Navigation.tscn" type="PackedScene" id=1]
[ext_resource path="res://assets/heading1.tres" type="DynamicFont" id=2]
[ext_resource path="res://assets/heading2.tres" type="DynamicFont" id=3]
[ext_resource path="res://assets/UI.theme" type="Theme" id=4]
[ext_resource path="res://scenes/OrbitCamera.tscn" type="PackedScene" id=5]
[ext_resource path="res://assets/regular.tres" type="DynamicFont" id=6]
[ext_resource path="res://scenes/Turntable.gd" type="Script" id=7]
[ext_resource path="res://assets/turntable.glb" type="PackedScene" id=8]
[ext_resource path="res://assets/eject-record.png" type="Texture" id=9]
[ext_resource path="res://assets/play-record.png" type="Texture" id=10]
[ext_resource path="res://scenes/Record.tscn" type="PackedScene" id=11]
[ext_resource path="res://assets/rec33rpm.obj" type="ArrayMesh" id=12]
[ext_resource path="res://assets/checkerboard.png" type="Texture" id=13]
[ext_resource path="res://assets/tracks-button.png" type="Texture" id=14]
[ext_resource path="res://assets/highlight-shader.tres" type="Shader" id=15]
[ext_resource path="res://scenes/record.shader" type="Shader" id=16]
[ext_resource path="res://assets/mat/wood/Wood048_1K_Color.jpg" type="Texture" id=17]
[ext_resource path="res://assets/info.png" type="Texture" id=18]
[ext_resource path="res://assets/picture.png" type="Texture" id=19]
[ext_resource path="res://scenes/ImageSelector.tscn" type="PackedScene" id=20]
[ext_resource path="res://assets/ArrowDown.svg" type="Texture" id=21]
[ext_resource path="res://assets/ArrowUp.svg" type="Texture" id=22]
[ext_resource path="res://assets/hdri/pool_4k.exr" type="Texture" id=23]

[sub_resource type="CylinderShape" id=1]
height = 0.19
radius = 0.028

[sub_resource type="BoxShape" id=2]
extents = Vector3( 0.01, 0.1, 0.025 )

[sub_resource type="CylinderShape" id=3]
height = 0.18
radius = 0.15

[sub_resource type="ShaderMaterial" id=7]
shader = ExtResource( 15 )
shader_param/Level = null

[sub_resource type="ShaderMaterial" id=5]
next_pass = SubResource( 7 )
shader = ExtResource( 16 )
shader_param/num_rings = 64.0
shader_param/rmax = 0.95
shader_param/rmin = 0.4
shader_param/label_radius = 0.3
shader_param/inner_smoothing = 30.0
shader_param/outer_smoothing = 10.0
shader_param/dot_position = Vector2( 0, 0 )
shader_param/dot_radius = 0.6
shader_param/dot_color = Color( 1, 0, 0, 0 )
shader_param/alphav = 0.0
shader_param/blur = 0.1
shader_param/width = 0.1
shader_param/label_a = ExtResource( 14 )
shader_param/label_b = ExtResource( 13 )

[sub_resource type="CylinderShape" id=6]
height = 0.003
radius = 0.148

[sub_resource type="PanoramaSky" id=8]
panorama = ExtResource( 23 )

[sub_resource type="Environment" id=9]
background_mode = 2
background_sky = SubResource( 8 )
background_energy = 0.21
ambient_light_color = Color( 1, 1, 1, 1 )
ambient_light_energy = 0.74
ambient_light_sky_contribution = 0.0

[node name="Turntable" type="Spatial"]
script = ExtResource( 7 )

[node name="deck" parent="." instance=ExtResource( 8 )]
transform = Transform( -1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0 )

[node name="OrbitCamera" parent="." instance=ExtResource( 5 )]

[node name="XAxis" parent="OrbitCamera/YAxis" index="0"]
transform = Transform( 1, 0, 0, 0, 0.816229, 0.57773, 0, -0.57773, 0.816229, 0, 0, 0 )

[node name="Camera" parent="OrbitCamera/YAxis/XAxis" index="0"]
transform = Transform( 1, 0, 0, 0, 1, 3.72529e-09, 0, 0, 1, 0, -0.073812, 5.28605 )
visible = false

[node name="DirectionalLight" parent="OrbitCamera/YAxis/XAxis" index="1"]
transform = Transform( 0.183247, 0.971622, 0.14957, -0.956496, 0.141084, 0.255363, 0.227014, -0.189857, 0.955205, 0, 0, 0 )
visible = true
light_energy = 1.879

[node name="DirectionalLight2" parent="OrbitCamera/YAxis/XAxis" index="2"]
transform = Transform( 0.967362, 0.165005, 0.192312, 0.088716, 0.490364, -0.86699, -0.237361, 0.855755, 0.45972, 3.95064, 8.27146, -0.530499 )
visible = true
light_specular = 0.013

[node name="LeverArea" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="LeverArea"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0 )
shape = SubResource( 1 )

[node name="HandleArea" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="HandleArea"]
shape = SubResource( 2 )

[node name="SwitchArea" type="Area" parent="."]

[node name="CollisionShape" type="CollisionShape" parent="SwitchArea"]
shape = SubResource( 3 )

[node name="c" type="CanvasLayer" parent="."]

[node name="M" type="MarginContainer" parent="c"]
margin_right = 729.0
margin_bottom = 680.0
mouse_filter = 2
theme = ExtResource( 4 )
custom_constants/margin_right = 20
custom_constants/margin_top = 20
custom_constants/margin_left = 20
custom_constants/margin_bottom = 20

[node name="VB" type="VBoxContainer" parent="c/M"]
margin_left = 20.0
margin_top = 20.0
margin_right = 799.0
margin_bottom = 660.0
mouse_filter = 2
custom_constants/separation = 20

[node name="HB" type="HBoxContainer" parent="c/M/VB"]
margin_right = 779.0
margin_bottom = 97.0
custom_constants/separation = 20

[node name="Label" type="Label" parent="c/M/VB/HB"]
margin_top = 31.0
margin_right = 165.0
margin_bottom = 65.0
custom_fonts/font = ExtResource( 2 )
text = "Record Player"

[node name="Navigation" parent="c/M/VB/HB" instance=ExtResource( 1 )]
margin_left = 185.0
margin_right = 689.0
margin_bottom = 97.0
current_selection = 4

[node name="GC" type="GridContainer" parent="c/M/VB/HB"]
margin_left = 709.0
margin_right = 779.0
margin_bottom = 97.0
custom_constants/vseparation = 10
custom_constants/hseparation = 10
columns = 2

[node name="Picture" type="Button" parent="c/M/VB/HB/GC"]
margin_right = 30.0
margin_bottom = 39.0
hint_tooltip = "Load background image"
icon = ExtResource( 19 )

[node name="Info" type="Button" parent="c/M/VB/HB/GC"]
margin_left = 40.0
margin_right = 70.0
margin_bottom = 39.0
icon = ExtResource( 18 )

[node name="HB2" type="HBoxContainer" parent="c/M/VB"]
margin_top = 117.0
margin_right = 779.0
margin_bottom = 495.0
mouse_filter = 2

[node name="Open" type="Button" parent="c/M/VB/HB2"]
unique_name_in_owner = true
visible = false
margin_right = 32.0
margin_bottom = 378.0
hint_tooltip = "Show details"
icon = ExtResource( 21 )

[node name="Details" type="PanelContainer" parent="c/M/VB/HB2"]
unique_name_in_owner = true
margin_right = 387.0
margin_bottom = 378.0
mouse_filter = 2
size_flags_horizontal = 3

[node name="Items" type="VBoxContainer" parent="c/M/VB/HB2/Details"]
margin_left = 10.0
margin_top = 10.0
margin_right = 377.0
margin_bottom = 368.0
mouse_filter = 2
size_flags_horizontal = 3
custom_constants/separation = 10

[node name="HB2" type="HBoxContainer" parent="c/M/VB/HB2/Details/Items"]
margin_right = 367.0
margin_bottom = 39.0

[node name="Label" type="Label" parent="c/M/VB/HB2/Details/Items/HB2"]
margin_top = 8.0
margin_right = 92.0
margin_bottom = 31.0
custom_fonts/font = ExtResource( 3 )
text = "Album Title"

[node name="Sp" type="Control" parent="c/M/VB/HB2/Details/Items/HB2"]
margin_left = 96.0
margin_right = 331.0
margin_bottom = 39.0
size_flags_horizontal = 3

[node name="Close" type="Button" parent="c/M/VB/HB2/Details/Items/HB2"]
margin_left = 335.0
margin_right = 367.0
margin_bottom = 39.0
hint_tooltip = "Hide"
icon = ExtResource( 22 )

[node name="Title" type="Label" parent="c/M/VB/HB2/Details/Items"]
unique_name_in_owner = true
margin_top = 49.0
margin_right = 367.0
margin_bottom = 72.0
custom_fonts/font = ExtResource( 6 )

[node name="Label2" type="Label" parent="c/M/VB/HB2/Details/Items"]
margin_top = 82.0
margin_right = 367.0
margin_bottom = 105.0
custom_fonts/font = ExtResource( 3 )
text = "Band / Artist"

[node name="Band" type="Label" parent="c/M/VB/HB2/Details/Items"]
unique_name_in_owner = true
margin_top = 115.0
margin_right = 367.0
margin_bottom = 138.0
custom_fonts/font = ExtResource( 6 )

[node name="HB" type="HBoxContainer" parent="c/M/VB/HB2/Details/Items"]
margin_top = 148.0
margin_right = 367.0
margin_bottom = 187.0
custom_constants/separation = 20

[node name="HSlider" type="HSlider" parent="c/M/VB/HB2/Details/Items/HB"]
unique_name_in_owner = true
margin_right = 267.0
margin_bottom = 16.0
rect_min_size = Vector2( 50, 0 )
size_flags_horizontal = 3
value = 30.0

[node name="Play" type="Button" parent="c/M/VB/HB2/Details/Items/HB"]
unique_name_in_owner = true
margin_left = 287.0
margin_right = 317.0
margin_bottom = 39.0
hint_tooltip = "Play"
icon = ExtResource( 10 )

[node name="Eject" type="Button" parent="c/M/VB/HB2/Details/Items/HB"]
unique_name_in_owner = true
margin_left = 337.0
margin_right = 367.0
margin_bottom = 39.0
hint_tooltip = "Eject"
icon = ExtResource( 9 )

[node name="VPC" type="ViewportContainer" parent="c/M/VB/HB2/Details/Items"]
margin_top = 197.0
margin_right = 367.0
margin_bottom = 358.0
rect_min_size = Vector2( 0, 160 )

[node name="Viewport" type="Viewport" parent="c/M/VB/HB2/Details/Items/VPC"]
size = Vector2( 322, 161 )
own_world = true
handle_input_locally = false
render_target_update_mode = 3

[node name="Record" parent="c/M/VB/HB2/Details/Items/VPC/Viewport" instance=ExtResource( 11 )]
unique_name_in_owner = true

[node name="Control" type="Control" parent="c/M/VB/HB2"]
margin_left = 391.0
margin_right = 779.0
margin_bottom = 378.0
mouse_filter = 2
size_flags_horizontal = 3

[node name="Cent" type="CenterContainer" parent="c"]
anchor_top = 0.974
anchor_right = 1.0
anchor_bottom = 0.983
margin_top = -14.0
mouse_filter = 2

[node name="TrackName" type="Label" parent="c/Cent"]
unique_name_in_owner = true
margin_left = 640.0
margin_top = 3.0
margin_right = 640.0
margin_bottom = 17.0

[node name="Controls" type="HBoxContainer" parent="c"]
anchor_left = 1.0
anchor_right = 1.0
margin_left = -78.0
margin_top = 16.0
margin_right = -11.0
margin_bottom = 178.0
custom_constants/separation = 10

[node name="VB" type="VBoxContainer" parent="c/Controls"]
margin_right = 32.0
margin_bottom = 162.0
custom_constants/separation = 10

[node name="DeckColor" type="ColorPickerButton" parent="c/Controls/VB"]
unique_name_in_owner = true
margin_right = 32.0
margin_bottom = 20.0
rect_min_size = Vector2( 32, 0 )
color = Color( 0.0941176, 0.188235, 0.556863, 1 )
edit_alpha = false

[node name="CartColor" type="ColorPickerButton" parent="c/Controls/VB"]
unique_name_in_owner = true
margin_top = 30.0
margin_right = 32.0
margin_bottom = 50.0
rect_min_size = Vector2( 32, 0 )
color = Color( 0.764706, 0.466667, 0, 1 )
edit_alpha = false

[node name="Vol" type="VBoxContainer" parent="c/Controls"]
margin_left = 42.0
margin_right = 67.0
margin_bottom = 162.0

[node name="VolSlider" type="VSlider" parent="c/Controls/Vol"]
unique_name_in_owner = true
margin_right = 16.0
margin_bottom = 135.0
size_flags_vertical = 3
max_value = 8.0
step = 0.1
value = 3.7

[node name="Label" type="Label" parent="c/Controls/Vol"]
margin_top = 139.0
margin_right = 25.0
margin_bottom = 162.0
custom_fonts/font = ExtResource( 3 )
text = "Vol"

[node name="InfoDialog" type="AcceptDialog" parent="c"]
margin_right = 779.0
margin_bottom = 632.0
theme = ExtResource( 4 )
window_title = "Info"
dialog_text = "Move the album slider to view the sleeve and choose which side to play
Press the down button to load the disc
Press the up button to remove the disc
Set the platter spinning by clicking and holding the knob and moving left to right to select the speed.

Green sets stopped
Blue sets 33.3 RPM
Amber sets 45 RPM
Red sets 78 RPM

Click and hold on arm handle to move the arm
Click and hold the lever and move it up and down to raise and lower the arm

Ctrl + left mouse button to rotate
Shift + left mouse button to pan
Ctrl + left mouse button to zoom in and out

Keyboard alternatives

Shift + arrow keys to rotate
WASD keys to pan
Z and X keys to zoom in and out"

[node name="ImageSelector" parent="c" instance=ExtResource( 20 )]

[node name="Disc" type="MeshInstance" parent="."]
transform = Transform( 10, 0, 0, 0, 10, 0, 0, 0, 10, 0, 0.145, 0 )
mesh = ExtResource( 12 )
material/0 = SubResource( 5 )

[node name="Area" type="Area" parent="Disc"]
visible = false

[node name="CollisionShape" type="CollisionShape" parent="Disc/Area"]
shape = SubResource( 6 )

[node name="P1" type="Position3D" parent="."]
transform = Transform( 0.96335, -0.0355146, -0.265886, 0, 0.991197, -0.132395, 0.268247, 0.127543, 0.95487, 1.803, 0.434771, -0.807425 )
visible = false

[node name="Needle" type="Position3D" parent="P1"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.200565, 1.9235 )

[node name="P0" type="Position3D" parent="P1/Needle"]
transform = Transform( 0.96335, -3.9972e-09, 0.268247, -0.0355146, 0.991197, 0.127542, -0.265886, -0.132395, 0.954869, 0, 0, 0 )

[node name="Tip" type="Position3D" parent="P1"]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, -0.208005, 1.9235 )

[node name="CSGBox" type="CSGBox" parent="P1"]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, 0.00257176, 1.71609 )
width = 0.261165
height = 0.073918
depth = 0.525536

[node name="CSGBox2" type="CSGBox" parent="P1"]
transform = Transform( 1, 0, 0, 0, 0.999999, 0, 0, 0, 0.999999, 0, -0.0988671, 1.8175 )
width = 0.134299
height = 0.122767
depth = 0.248566

[node name="Audio" type="AudioStreamPlayer" parent="."]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 9 )

[node name="Background" type="Sprite" parent="WorldEnvironment"]
unique_name_in_owner = true
visible = false
z_index = -1
texture = ExtResource( 17 )
centered = false

[connection signal="input_event" from="LeverArea" to="." method="_on_Lever_input_event"]
[connection signal="mouse_entered" from="LeverArea" to="." method="_on_Lever_mouse_entered"]
[connection signal="mouse_exited" from="LeverArea" to="." method="_on_Lever_mouse_exited"]
[connection signal="input_event" from="HandleArea" to="." method="_on_HandleArea_input_event"]
[connection signal="mouse_entered" from="HandleArea" to="." method="_on_HandleArea_mouse_entered"]
[connection signal="mouse_exited" from="HandleArea" to="." method="_on_HandleArea_mouse_exited"]
[connection signal="input_event" from="SwitchArea" to="." method="_on_SwitchArea_input_event"]
[connection signal="mouse_entered" from="SwitchArea" to="." method="_on_SwitchArea_mouse_entered"]
[connection signal="mouse_exited" from="SwitchArea" to="." method="_on_SwitchArea_mouse_exited"]
[connection signal="pressed" from="c/M/VB/HB/GC/Picture" to="." method="_on_Picture_pressed"]
[connection signal="pressed" from="c/M/VB/HB/GC/Info" to="." method="_on_Info_pressed"]
[connection signal="pressed" from="c/M/VB/HB2/Open" to="." method="_on_Open_pressed"]
[connection signal="pressed" from="c/M/VB/HB2/Details/Items/HB2/Close" to="." method="_on_Close_pressed"]
[connection signal="pressed" from="c/M/VB/HB2/Details/Items/HB/Play" to="." method="_on_Play_pressed"]
[connection signal="pressed" from="c/M/VB/HB2/Details/Items/HB/Eject" to="." method="_on_Eject_pressed"]
[connection signal="draw" from="c/Controls" to="." method="_on_Vol_draw"]
[connection signal="color_changed" from="c/Controls/VB/DeckColor" to="." method="_on_DeckColor_color_changed"]
[connection signal="color_changed" from="c/Controls/VB/CartColor" to="." method="_on_CartColor_color_changed"]
[connection signal="value_changed" from="c/Controls/Vol/VolSlider" to="." method="_on_VolSlider_value_changed"]
[connection signal="file_selected" from="c/ImageSelector" to="." method="_on_ImageSelector_file_selected"]
[connection signal="input_event" from="Disc/Area" to="." method="_on_disc_input_event"]
[connection signal="mouse_entered" from="Disc/Area" to="." method="_on_disc_mouse_entered"]
[connection signal="mouse_exited" from="Disc/Area" to="." method="_on_disc_mouse_exited"]
[connection signal="finished" from="Audio" to="." method="_on_Audio_finished"]

[editable path="OrbitCamera"]
